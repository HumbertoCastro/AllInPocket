{"ast":null,"code":"import _slicedToArray from\"/home/humberto/all-in-pocket/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import svgs from'../../../helpers/svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TransactionCard=function TransactionCard(_ref){var array=_ref.array,color=_ref.color,finances=_ref.finances,callback=_ref.callback,isProfit=_ref.isProfit,month=_ref.month,deleteCategory=_ref.deleteCategory;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deleteCard=_useState4[0],setDelete=_useState4[1];var date=new Date();var monthNumber=date.getMonth()>9?date.getMonth():\"0\".concat(date.getMonth());var name=Object.keys(array)[0];var total=array[name].map(function(x){return x.value;}).reduce(function(x,count){return x+count;},0);var indexMonth=finances.indexOf(finances.find(function(x){return x.month===month;}));var handleDelete=function handleDelete(){var newFinances=finances;if(isProfit){newFinances[indexMonth].profit=finances[indexMonth].profit.filter(function(y){return y.type!==name;});callback(newFinances,'profit');}else{newFinances[indexMonth].expenses=finances[indexMonth].expenses.filter(function(y){return y.type!==name;});callback(newFinances,'expenses');}localStorage.setItem('finances',JSON.stringify(newFinances));deleteCategory(name);};var handleDeleteTransaction=function handleDeleteTransaction(index){if(isProfit){var newF=finances;var aux=0;for(var i=0;i<newF[indexMonth].profit.length;i+=1){if(newF[indexMonth].profit[i].type===name){if(aux===index){aux=i;break;}aux++;}}newF[indexMonth].profit.splice(aux,1);localStorage.setItem('finances',JSON.stringify(newF));callback(newF,'profit');}else{var _newF=finances;var _aux=0;for(var _i=0;_i<_newF[indexMonth].expenses.length;_i+=1){if(_newF[indexMonth].expenses[_i].type===name){if(_aux===index){_aux=_i;break;}_aux++;}}_newF[indexMonth].expenses.splice(_aux,1);localStorage.setItem('finances',JSON.stringify(_newF));callback(_newF,'expenses');}};var renderDelete=function renderDelete(){return/*#__PURE__*/_jsx(\"div\",{className:\"type-div row\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Do you want to delete this category, and all his transactions ?\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setDelete(false);},children:\"CANCEL\"}),\"/\",/*#__PURE__*/_jsx(\"button\",{style:{color:\"red\"},onClick:function onClick(){handleDelete();setDelete(false);},children:\"DELETE\"})]})});};var renderCard=function renderCard(){return/*#__PURE__*/_jsxs(\"div\",{className:\"type-div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tran-btn row s-btw\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:function onClick(){return setDelete(true);},children:\"X\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"row s-btw in-btn\",onClick:function onClick(){return setOpen(!open);},children:[/*#__PURE__*/_jsx(\"h1\",{children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"\".concat(color)},children:\"$ \"+total}),array[name].length>0?svgs.dropdow():null]})]})]}),open?array[name].map(function(_ref2,index){var value=_ref2.value,name=_ref2.name,date=_ref2.date;return/*#__PURE__*/_jsxs(\"div\",{className:\"expense-card row s-btw scale-in-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"colunm delete s-btw\",children:[/*#__PURE__*/_jsx(\"h1\",{children:name}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:function onClick(){handleDeleteTransaction(index);},children:\"Remove\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"colunm delete s-btw\",children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:{color:color},fontSize:\"1.4rem\"},children:[\"$\",\" \".concat(value)]}),/*#__PURE__*/_jsx(\"p\",{className:\"delete-btn\",children:\"\".concat(monthNumber,\"/\").concat(date>9?date:\"0\".concat(date))})]})]});}):null]});};return/*#__PURE__*/_jsx(_Fragment,{children:deleteCard?renderDelete():renderCard()});};TransactionCard.defaultProps={};export default TransactionCard;/*\n<div className='expense-card row s-btw' style={ { borderBottom: `3px solid ${color}` } }>\n    <div>\n      <h1>\n        {\n          name\n        }\n      </h1>\n      <div className='row s-btw'>\n        <p>\n          {\n            type\n          }\n        </p>\n        <p>\n          {\n            `${monthNumber}/${date > 9 ? date : `0${date}`}`\n          }\n        </p>\n      </div>\n    </div>\n    <p>\n      -$\n      {\n        value\n      }\n    </p>\n  </div>\n  */","map":{"version":3,"names":["React","useState","svgs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TransactionCard","_ref","array","color","finances","callback","isProfit","month","deleteCategory","_useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","deleteCard","setDelete","date","Date","monthNumber","getMonth","concat","name","Object","keys","total","map","x","value","reduce","count","indexMonth","indexOf","find","handleDelete","newFinances","profit","filter","y","type","expenses","localStorage","setItem","JSON","stringify","handleDeleteTransaction","index","newF","aux","i","length","splice","renderDelete","className","children","onClick","style","renderCard","dropdow","_ref2","fontSize","defaultProps"],"sources":["/home/humberto/all-in-pocket/src/components/FinanceComponents/TransactionCard/TransactionCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport svgs from '../../../helpers/svg';\n\n\nconst TransactionCard = ({ array, color, finances, callback, isProfit, month, deleteCategory }) => {\n  const [open, setOpen] = useState(false);\n  const [deleteCard, setDelete] = useState(false);\n  const date = new Date();\n  const monthNumber = date.getMonth() > 9 ? date.getMonth() : `0${date.getMonth()}`;\n  const name = Object.keys(array)[0]\n  const total = array[name].map((x) => x.value).reduce((x, count) => x + count, 0);\n  const indexMonth = finances.indexOf(finances.find((x) => x.month === month));\n\n  const handleDelete = () => {\n    const newFinances = finances;\n    if (isProfit) {\n      newFinances[indexMonth].profit =  finances[indexMonth].profit.filter((y) => y.type !== name);\n      callback(newFinances, 'profit')\n    } else {\n      newFinances[indexMonth].expenses =  finances[indexMonth].expenses.filter((y) => y.type !== name);\n      callback(newFinances, 'expenses')\n    }\n    localStorage.setItem('finances', JSON.stringify(newFinances));\n    deleteCategory(name);\n  }\n\n  const handleDeleteTransaction = (index) => {\n    if (isProfit) {\n      const newF = finances;\n      let aux = 0;\n      for (let i = 0; i < newF[indexMonth].profit.length; i += 1) {\n        if (newF[indexMonth].profit[i].type === name) {\n          if (aux === index) {\n            aux = i;\n            break;\n          }\n          aux++;\n        }\n      }\n      newF[indexMonth].profit.splice(aux, 1);\n      localStorage.setItem('finances', JSON.stringify(newF));\n      callback(newF, 'profit');\n    } else {\n      const newF = finances;\n      let aux = 0;\n      for (let i = 0; i < newF[indexMonth].expenses.length; i += 1) {\n        if (newF[indexMonth].expenses[i].type === name) {\n          if (aux === index) {\n            aux = i;\n            break;\n          }\n          aux++;\n        }\n      }\n      newF[indexMonth].expenses.splice(aux, 1);\n      localStorage.setItem('finances', JSON.stringify(newF));\n      callback(newF, 'expenses');\n    }\n  }\n\n  const renderDelete = () => (\n    <div className='type-div row'>\n      <p>Do you want to delete this category, and all his transactions ?\n      <button onClick={ () => setDelete(false)}>CANCEL</button>/<button style={ { color: \"red\" } } onClick={ () => {\n        handleDelete();\n        setDelete(false);\n      } }>DELETE</button></p>\n    </div>\n  )\n\n  const renderCard = () => (\n    <div className='type-div'>\n      <div className='tran-btn row s-btw'>\n        <button className='delete-btn' onClick={ () => setDelete(true) }>\n          X\n        </button>\n        <button className='row s-btw in-btn' onClick={ () => setOpen(!open) }>\n          <h1>\n            {\n              name\n            }\n          </h1>\n          <div className='row'>\n            <h1 style={ { color: `${ color }` } }>\n              {\n                \"$ \" + total\n              }\n            </h1>\n            {\n              array[name].length > 0 ? svgs.dropdow() : null\n            } \n          </div>\n        </button>\n      </div>\n      {\n        open ? (\n          array[name].map(({ value, name, date }, index) => (\n            <div className='expense-card row s-btw scale-in-left'>\n              <div className='colunm delete s-btw'>\n                <h1>\n                  {\n                    name\n                  }\n                </h1>\n                <button className='delete-btn' onClick={ () => { handleDeleteTransaction(index) } }>\n                  Remove\n                </button>\n              </div>\n              <div className='colunm delete s-btw'>\n                <p style={ { color: {color}, fontSize: \"1.4rem\" } }>\n                  $\n                  {\n                    ` ${value}`\n                  }\n                </p>\n                <p className='delete-btn'>\n                  {\n                    `${monthNumber}/${date > 9 ? date : `0${date}`}`\n                  }\n                </p>\n              </div>\n            </div>\n          ))\n        ) : null\n      }\n    </div>)\n\n  return (\n    <>\n    {\n      deleteCard ? renderDelete() : renderCard()\n    }\n    </>\n  )\n};\n\nTransactionCard.propTypes = {};\n\nTransactionCard.defaultProps = {};\n\nexport default TransactionCard;\n\n/*\n<div className='expense-card row s-btw' style={ { borderBottom: `3px solid ${color}` } }>\n    <div>\n      <h1>\n        {\n          name\n        }\n      </h1>\n      <div className='row s-btw'>\n        <p>\n          {\n            type\n          }\n        </p>\n        <p>\n          {\n            `${monthNumber}/${date > 9 ? date : `0${date}`}`\n          }\n        </p>\n      </div>\n    </div>\n    <p>\n      -$\n      {\n        value\n      }\n    </p>\n  </div>\n  */ "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}