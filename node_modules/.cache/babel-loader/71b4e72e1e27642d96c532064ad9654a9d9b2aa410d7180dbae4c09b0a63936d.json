{"ast":null,"code":"import _regeneratorRuntime from\"/home/humberto/all-in-pocket/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/humberto/all-in-pocket/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/humberto/all-in-pocket/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import axios from'axios';import WeatherForm from'../WeatherForm/WeatherForm';import WeatherCard from'../WeatherCard/WeatherCard';import{mockFutureWeather,weatherFake}from'../../../helpers/mockWeather';import'../weather.css';import Loading from'../../Inputs/Loading/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Weather=function Weather(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),weatherData=_useState2[0],setWeatherData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];console.log(process.env.REACT_APP_WEATHER_API_KEY,process.env.GEONAMES_USERNAME,'teste');var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(location){var apiKey;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiKey=process.env.REACT_APP_WEATHER_API_KEY;console.log(process.env.API_KEY,process.env.GEONAMES_USERNAME,'teste');/*try {\n      const response = await axios.get(`http://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${location}&days=1&aqi=yes&alerts=yes`);\n      console.log(response);\n      setWeatherData(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }*/case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();var handleClick=function handleClick(city){fetchData(city);setLoading(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(WeatherForm,{callback:handleClick}),weatherData?/*#__PURE__*/_jsx(WeatherCard,{weatherData:weatherData}):null,loading?/*#__PURE__*/_jsx(Loading,{}):null]});};export default Weather;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","WeatherForm","WeatherCard","mockFutureWeather","weatherFake","Loading","jsx","_jsx","jsxs","_jsxs","Weather","_useState","_useState2","_slicedToArray","weatherData","setWeatherData","_useState3","_useState4","loading","setLoading","console","log","process","env","REACT_APP_WEATHER_API_KEY","GEONAMES_USERNAME","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","location","apiKey","wrap","_callee$","_context","prev","next","API_KEY","stop","_x","apply","arguments","handleClick","city","children","callback"],"sources":["/home/humberto/all-in-pocket/src/components/WeatherComponents/Weather/Weather.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport WeatherForm from '../WeatherForm/WeatherForm';\nimport WeatherCard from '../WeatherCard/WeatherCard';\nimport { mockFutureWeather, weatherFake } from '../../../helpers/mockWeather';\nimport '../weather.css'\nimport Loading from '../../Inputs/Loading/Loading';\n\nconst Weather = () => {\n  const [weatherData, setWeatherData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  console.log(process.env.REACT_APP_WEATHER_API_KEY, process.env.GEONAMES_USERNAME, 'teste');\n\n  const fetchData = async (location) => {\n    const apiKey = process.env.REACT_APP_WEATHER_API_KEY;\n    console.log(process.env.API_KEY, process.env.GEONAMES_USERNAME, 'teste');\n    /*try {\n      const response = await axios.get(`http://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${location}&days=1&aqi=yes&alerts=yes`);\n      console.log(response);\n      setWeatherData(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }*/\n  };\n\n  const handleClick = (city) => {\n    fetchData(city);\n    setLoading(true);\n  };\n\n  return (\n    <div>\n      <WeatherForm callback={ handleClick } />\n      {\n        weatherData ? <WeatherCard weatherData={ weatherData } /> : null\n      }\n      {\n        loading ? <Loading /> : null\n      }\n    </div>\n  );\n};\n\nexport default Weather;"],"mappings":"sWAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,OAASC,iBAAiB,CAAEC,WAAW,KAAQ,8BAA8B,CAC7E,MAAO,gBAAgB,CACvB,MAAO,CAAAC,OAAO,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,IAAAC,SAAA,CAAsCZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAA8BjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1BG,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CAAEF,OAAO,CAACC,GAAG,CAACE,iBAAiB,CAAE,OAAO,CAAC,CAE1F,GAAM,CAAAC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,QAAQ,MAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACzBL,MAAM,CAAGX,OAAO,CAACC,GAAG,CAACC,yBAAyB,CACpDJ,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACgB,OAAO,CAAEjB,OAAO,CAACC,GAAG,CAACE,iBAAiB,CAAE,OAAO,CAAC,CACxE;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAPI,wBAAAW,QAAA,CAAAI,IAAA,MAAAT,OAAA,GAQD,kBAXK,CAAAL,SAASA,CAAAe,EAAA,SAAAd,IAAA,CAAAe,KAAA,MAAAC,SAAA,OAWd,CAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,IAAI,CAAK,CAC5BnB,SAAS,CAACmB,IAAI,CAAC,CACf1B,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,CAED,mBACEV,KAAA,QAAAqC,QAAA,eACEvC,IAAA,CAACN,WAAW,EAAC8C,QAAQ,CAAGH,WAAa,CAAE,CAAC,CAEtC9B,WAAW,cAAGP,IAAA,CAACL,WAAW,EAACY,WAAW,CAAGA,WAAa,CAAE,CAAC,CAAG,IAAI,CAGhEI,OAAO,cAAGX,IAAA,CAACF,OAAO,GAAE,CAAC,CAAG,IAAI,EAE3B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}